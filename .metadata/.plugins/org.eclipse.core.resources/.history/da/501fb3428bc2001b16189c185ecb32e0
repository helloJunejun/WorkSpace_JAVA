package com.work.model.service;

import java.util.ArrayList;

import com.work.model.dto.Member;

/**
 * Collection API 활용 변경
 * -- ArrayList
 * @author 준성
 */
public class MemberService {
	/** 회원들을 저장관리하기 위한 자료 저장구조 */
	private ArrayList list = new ArrayList();
	
	/**
	 * 현재 등록 인원수 조회
	 * @return
	 */
	public int getCount()  {
		return list.size();
	}	
	
	/**
	 * 회원 등록 
	 * @param dto 등록 회원
	 */
	public void addMember(Member dto) {
		if(exist(dto.getMemberId()) == -1) {
			list.add(dto); // list 순서존재, 중복 허용 구조 => 개발자 등록전에 중복여부 검증 처리 : 순서 인덱스는 사용하고, 중복되지않고 처리 가능
		} else {
			// 동일아이디를 갖는 회원객체 존재하는 경우에는 오류메세지 출력
			// 오류메세지 : [오류] 000 아이디는 사용할 수 없습니다.
			System.out.println("오류메세지 : [오류] " + dto.getMemberId() + " 아이디는 사용할 수 없습니다.");
		}
		
	}
	
	/**
	 * 회원 존재 유무 조회 : 저장된 회원의 크기만큼 반복, 저장객체 조회(Object), instanceOf, type casting, equals()
	 * @param memberId 아이디
	 * @return 존재시 저장위치 인덱스번호, 미존재시 -1
	 */
	public int exist(String memberId) {
		// jdk 1.4
//		for(int index = 0; index < list.size(); index++) { // index 돌리기 사이즈보다작게
//			Object obj = list.get(index); // obj 객체생성 index들어간 getter 반환타입이 object
//			if(obj instanceof Member) { // obj랑 Member 객체 비교
//				Member dto = (Member)obj; // obj Member객체로 형변환 하면서 dto 대입
//				if(dto.getMemberId().equals(memberId)) { // 멤버아이디 불러내서 equals로 문자열 비교
//					return index; // 인덱스 반환
//				}
//				
//			}
//		}
		
		
		
		
		
		
		
		
		
		
				return -1; //아닐경우 -1값 반환
	}
}











